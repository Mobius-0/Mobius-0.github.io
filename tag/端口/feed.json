{
    "version": "https://jsonfeed.org/version/1",
    "title": "Khala • All posts by \"端口\" tag",
    "description": "GLHF",
    "home_page_url": "https://mobius-0.github.io",
    "items": [
        {
            "id": "https://mobius-0.github.io/security/WebNote/information%20gathering/Ports/",
            "url": "https://mobius-0.github.io/security/WebNote/information%20gathering/Ports/",
            "title": "端口信息",
            "date_published": "2022-11-25T09:02:36.000Z",
            "content_html": "<h1 id=\"常见端口及其脆弱点\"><a class=\"anchor\" href=\"#常见端口及其脆弱点\">#</a> 常见端口及其脆弱点</h1>\n<ul>\n<li>\n<p>FTP (21/TCP)</p>\n<ul>\n<li>默认用户名密码  <code>anonymous:anonymous</code></li>\n<li>暴力破解密码</li>\n<li>VSFTP 某版本后门</li>\n</ul>\n</li>\n<li>\n<p>SSH (22/TCP)</p>\n<ul>\n<li>部分版本 SSH 存在漏洞可枚举用户名</li>\n<li>暴力破解密码</li>\n</ul>\n</li>\n<li>\n<p>Telent (23/TCP)</p>\n<ul>\n<li>暴力破解密码</li>\n<li>嗅探抓取明文密码</li>\n</ul>\n</li>\n<li>\n<p>SMTP (25/TCP)</p>\n<ul>\n<li>无认证时可伪造发件人</li>\n</ul>\n</li>\n<li>\n<p>DNS (53/UDP &amp; 53/TCP)</p>\n<ul>\n<li>\n<p>域传送漏洞</p>\n</li>\n<li>\n<p>DNS 劫持</p>\n</li>\n<li>\n<p>DNS 缓存投毒</p>\n</li>\n<li>\n<p>DNS 欺骗</p>\n</li>\n<li>\n<p>SPF / DMARC Check</p>\n</li>\n<li>\n<p>DDoS</p>\n<ul>\n<li>\n<p>DNS Query Flood</p>\n</li>\n<li>\n<p>DNS 反弹</p>\n</li>\n</ul>\n</li>\n<li>\n<p>DNS 隧道</p>\n</li>\n</ul>\n</li>\n<li>\n<p>DHCP 67/68</p>\n<ul>\n<li>劫持 / 欺骗</li>\n</ul>\n</li>\n<li>\n<p>TFTP (69/TCP)</p>\n</li>\n<li>\n<p>HTTP (80/TCP)</p>\n</li>\n<li>\n<p>Kerberos (88/TCP)</p>\n<ul>\n<li>主要用于监听 KDC 的票据请求</li>\n<li>用于进行黄金票据和白银票据的伪造</li>\n</ul>\n</li>\n<li>\n<p>POP3 (110/TCP &amp; 995/TCP)</p>\n<ul>\n<li>爆破</li>\n</ul>\n</li>\n<li>\n<p>RPC (135/TCP)</p>\n<ul>\n<li>wmic 服务利用</li>\n</ul>\n</li>\n<li>\n<p>NetBIOS (137/UDP &amp; 138/UDP)</p>\n<ul>\n<li>未授权访问</li>\n<li>弱口令</li>\n</ul>\n</li>\n<li>\n<p>NetBIOS / Samba (139/TCP)</p>\n<ul>\n<li>未授权访问</li>\n<li>弱口令</li>\n</ul>\n</li>\n<li>\n<p>IMAP (143/TCP &amp; 993/TCP)</p>\n</li>\n<li>\n<p>SNMP (161/TCP &amp; 161/UDP)</p>\n<ul>\n<li>Public 弱口令</li>\n</ul>\n</li>\n<li>\n<p>LDAP (389/TCP)</p>\n<ul>\n<li>用于域上的权限验证服务</li>\n<li>匿名访问</li>\n<li>注入</li>\n</ul>\n</li>\n<li>\n<p>HTTPS (443/TCP)</p>\n</li>\n<li>\n<p>SMB (445/TCP)</p>\n<ul>\n<li>Windows 协议簇，主要功能为文件共享服务</li>\n<li><code>net use \\\\192.168.1.1 /user:xxx\\username password</code></li>\n</ul>\n</li>\n<li>\n<p>Linux Rexec (512/TCP &amp; 513/TCP &amp; 514/TCP)</p>\n<ul>\n<li>弱口令</li>\n</ul>\n</li>\n<li>\n<p>Rsync (873/TCP)</p>\n<ul>\n<li>未授权访问</li>\n</ul>\n</li>\n<li>\n<p>RPC (1025/TCP)</p>\n<ul>\n<li>NFS 匿名访问</li>\n</ul>\n</li>\n<li>\n<p>Java RMI (1090/TCP &amp; 1099/TCP)</p>\n<ul>\n<li>反序列化远程命令执行漏洞</li>\n</ul>\n</li>\n<li>\n<p>MSSQL (1433/TCP)</p>\n<ul>\n<li>弱密码</li>\n<li>差异备份 GetShell</li>\n<li>SA 提权</li>\n</ul>\n</li>\n<li>\n<p>Oracle (1521/TCP)</p>\n<ul>\n<li>弱密码</li>\n</ul>\n</li>\n<li>\n<p>NFS (2049/TCP)</p>\n<ul>\n<li>权限设置不当</li>\n<li><code>showmount &lt;host&gt;</code></li>\n</ul>\n</li>\n<li>\n<p>ZooKeeper (2171/TCP &amp; 2375/TCP)</p>\n<ul>\n<li>无身份认证</li>\n</ul>\n</li>\n<li>\n<p>Docker Remote API (2375/TCP)</p>\n<ul>\n<li>未限制 IP / 未启用 TLS 身份认证</li>\n<li><code>http://docker.addr:2375/version</code></li>\n</ul>\n</li>\n<li>\n<p>MySQL (3306/TCP)</p>\n<ul>\n<li>弱密码</li>\n<li>日志写 WebShell</li>\n<li>UDF 提权</li>\n<li>MOF 提权</li>\n</ul>\n</li>\n<li>\n<p>RDP / Terminal Services (3389/TCP)</p>\n<ul>\n<li>弱密码</li>\n</ul>\n</li>\n<li>\n<p>Postgres (5432/TCP)</p>\n<ul>\n<li>弱密码</li>\n<li>执行系统命令</li>\n</ul>\n</li>\n<li>\n<p>VNC (5900/TCP)</p>\n<ul>\n<li>弱密码</li>\n</ul>\n</li>\n<li>\n<p>CouchDB (5984/TCP)</p>\n<ul>\n<li>未授权访问</li>\n</ul>\n</li>\n<li>\n<p>WinRM (5985/TCP)</p>\n<ul>\n<li>Windows 对 WS-Management 的实现</li>\n<li>在 Vista 上需要手动启动，在 Windows Server 2008 中服务是默认开启的</li>\n</ul>\n</li>\n<li>\n<p>Redis (6379/TCP)</p>\n<ul>\n<li>无密码或弱密码</li>\n<li>绝对路径写 WebShell</li>\n<li>计划任务反弹 Shell</li>\n<li>写 SSH 公钥</li>\n<li>主从复制 RCE</li>\n<li>Windows 写启动项</li>\n</ul>\n</li>\n<li>\n<p>Kubernetes API Server (6443/TCP &amp;&amp; 10250/TCP)</p>\n<ul>\n<li><code>https://Kubernetes:10250/pods</code></li>\n</ul>\n</li>\n<li>\n<p>JDWP (8000/TCP)</p>\n<ul>\n<li>远程命令执行</li>\n</ul>\n</li>\n<li>\n<p>ActiveMQ (8061/TCP)</p>\n</li>\n<li>\n<p>Jenkin (8080/TCP)</p>\n<ul>\n<li>未授权访问</li>\n</ul>\n</li>\n<li>\n<p>Elasticsearch (9200/TCP)</p>\n<ul>\n<li>代码执行</li>\n<li><code>http://es.addr:9200/_plugin/head/</code></li>\n<li><code>http://es.addr:9200/_nodes</code></li>\n</ul>\n</li>\n<li>\n<p>Memcached (11211/TCP &amp; 11211/UDP)</p>\n<ul>\n<li>未授权访问</li>\n</ul>\n</li>\n<li>\n<p>RabbitMQ (15672/TCP &amp; 15692/TCP &amp; 25672/TCP)</p>\n</li>\n<li>\n<p>MongoDB (27017/TCP)</p>\n<ul>\n<li>无密码或弱密码</li>\n</ul>\n</li>\n<li>\n<p>Hadoop (50070/TCP &amp; 50075/TCP)</p>\n<ul>\n<li>未授权访问</li>\n</ul>\n</li>\n</ul>\n<p>除了以上列出的可能出现的问题，暴露在公网上的服务若不是最新版，都可能存在已经公开的漏洞</p>\n<h1 id=\"常见端口扫描技术\"><a class=\"anchor\" href=\"#常见端口扫描技术\">#</a> 常见端口扫描技术</h1>\n<h2 id=\"全扫描\"><a class=\"anchor\" href=\"#全扫描\">#</a> 全扫描</h2>\n<p>扫描主机尝试使用三次握手与目标主机的某个端口建立正规的连接，若成功建立连接，则端口处于开放状态，反之处于关闭状态。</p>\n<p>全扫描实现简单，且以较低的权限就可以进行该操作。但是在流量日志中会有大量明显的记录。</p>\n<h2 id=\"半扫描\"><a class=\"anchor\" href=\"#半扫描\">#</a> 半扫描</h2>\n<p>半扫描也称 SYN 扫描，在半扫描中，仅发送 SYN 数据段，如果应答为 RST，则端口处于关闭状态，若应答为 SYN/ACK，则端口处于监听状态。不过这种方式需要较高的权限，而且现在的大部分防火墙已经开始对这种扫描方式做处理。</p>\n<h2 id=\"fin扫描\"><a class=\"anchor\" href=\"#fin扫描\">#</a> FIN 扫描</h2>\n<p>FIN 扫描是向目标发送一个 FIN 数据包，如果是开放的端口，会返回 RST 数据包，关闭的端口则不会返回数据包，可以通过这种方式来判断端口是否打开。</p>\n<p>这种方式并不在 TCP 三次握手的状态中，所以不会被记录，相对 SYN 扫描要更隐蔽一些。</p>\n<h1 id=\"web服务\"><a class=\"anchor\" href=\"#web服务\">#</a> Web 服务</h1>\n<ul>\n<li>\n<p>Jenkins</p>\n<ul>\n<li>未授权访问</li>\n</ul>\n</li>\n<li>\n<p>Gitlab</p>\n<ul>\n<li>对应版本 CVE</li>\n</ul>\n</li>\n<li>\n<p>Zabbix</p>\n<ul>\n<li>权限设置不当</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"批量搜索\"><a class=\"anchor\" href=\"#批量搜索\">#</a> 批量搜索</h1>\n<ul>\n<li>Censys</li>\n<li>Shodan</li>\n<li>ZoomEye</li>\n</ul>\n",
            "tags": [
                "漏洞",
                "信息收集",
                "端口"
            ]
        }
    ]
}