<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Khala • Posts by &#34;防御技术&#34; category</title>
        <link>https://mobius-0.github.io</link>
        <description>GLHF</description>
        <language>zh-CN</language>
        <pubDate>Mon, 05 Dec 2022 16:45:22 +0800</pubDate>
        <lastBuildDate>Mon, 05 Dec 2022 16:45:22 +0800</lastBuildDate>
        <category>Hexo</category>
        <category>shoya</category>
        <category>网站</category>
        <category>网络安全</category>
        <category>工具</category>
        <category>虚拟机</category>
        <category>安全</category>
        <category>星际争霸2</category>
        <category>平衡</category>
        <category>杂谈</category>
        <category>网易</category>
        <category>暴雪</category>
        <category>动画</category>
        <category>江南</category>
        <category>龙族</category>
        <category>小说</category>
        <category>法律法规</category>
        <category>XSS</category>
        <category>漏洞</category>
        <category>渗透测试</category>
        <category>靶场</category>
        <category>pikachu</category>
        <category>Kerberos认证</category>
        <category>JWT</category>
        <category>认证</category>
        <category>单点登录</category>
        <category>Windows</category>
        <category>挑战/应答</category>
        <category>S/Key协议</category>
        <category>权限设置</category>
        <category>虚拟化</category>
        <category>Docker</category>
        <category>镜像</category>
        <category>域名</category>
        <category>DNS</category>
        <category>WEB</category>
        <category>标准</category>
        <category>OCI</category>
        <category>CRI</category>
        <category>计算机网络</category>
        <category>IPSec</category>
        <category>VPN</category>
        <category>HTTP</category>
        <category>SSL</category>
        <category>TLS</category>
        <category>WiFi</category>
        <category>邮件</category>
        <category>网络协议</category>
        <category>入侵检测</category>
        <category>IDS</category>
        <category>IPS</category>
        <category>防御加固</category>
        <category>管理策略</category>
        <category>分工</category>
        <category>职能</category>
        <category>情报</category>
        <category>运营</category>
        <category>开发过程</category>
        <category>应急响应</category>
        <category>流程</category>
        <category>Linux</category>
        <category>攻击溯源</category>
        <category>分析模型</category>
        <category>网络攻防</category>
        <category>蜜罐</category>
        <category>隐藏</category>
        <category>诱导</category>
        <category>防御纵深</category>
        <category>访问控制</category>
        <category>过滤</category>
        <category>框架</category>
        <category>风险</category>
        <category>控制</category>
        <category>渗透</category>
        <category>信息收集</category>
        <category>痕迹清理</category>
        <category>内网</category>
        <category>后门</category>
        <category>免杀</category>
        <category>代理</category>
        <category>Shell</category>
        <category>远程连接</category>
        <category>ASP</category>
        <category>CSharp</category>
        <category>Golang</category>
        <category>Java</category>
        <category>语言</category>
        <category>反序列化</category>
        <category>混淆</category>
        <category>沙箱</category>
        <category>类</category>
        <category>JDK</category>
        <category>JavaScript</category>
        <category>PHP</category>
        <category>PowerShell</category>
        <category>Python</category>
        <category>Ruby</category>
        <category>CSRF</category>
        <category>服务器</category>
        <category>SQL注入</category>
        <category>SSRF</category>
        <category>Cache</category>
        <category>XXE</category>
        <category>XML</category>
        <category>Xpath</category>
        <category>注入</category>
        <category>函数</category>
        <category>绕过</category>
        <category>遍历</category>
        <category>包含</category>
        <category>文件</category>
        <category>目录</category>
        <category>读取</category>
        <category>上传</category>
        <category>逻辑</category>
        <category>中间件</category>
        <category>IIS</category>
        <category>Apache</category>
        <category>Nginx</category>
        <category>策略配置</category>
        <category>端口</category>
        <category>社会工程学</category>
        <category>搜索</category>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/</guid>
            <title>溯源分析</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E6%BA%AF%E6%BA%90%E5%88%86%E6%9E%90/</link>
            <category>攻击溯源</category>
            <category>分析模型</category>
            <pubDate>Mon, 05 Dec 2022 16:45:22 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;攻击机溯源技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#攻击机溯源技术&#34;&gt;#&lt;/a&gt; 攻击机溯源技术&lt;/h1&gt;
&lt;h2 id=&#34;基于日志的溯源&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基于日志的溯源&#34;&gt;#&lt;/a&gt; 基于日志的溯源&lt;/h2&gt;
&lt;p&gt;使用路由器、主机等设备记录网络传输的数据流中的关键信息 (时间、源地址、目的地址)，追踪时基于日志查询做反向追踪。&lt;/p&gt;
&lt;p&gt;这种方式的优点在于兼容性强、支持事后追溯、网络开销较小。但是同时该方法也受性能、空间和隐私保护等的限制，考虑到以上的因素，可以限制记录的数据特征和数据数量。另外可以使用流量镜像等技术来减小对网络性能的影响。&lt;/p&gt;
&lt;h2 id=&#34;路由输入调试技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#路由输入调试技术&#34;&gt;#&lt;/a&gt; 路由输入调试技术&lt;/h2&gt;
&lt;p&gt;在攻击持续发送数据，且特性较为稳定的场景下，可以使用路由器的输入调试技术，在匹配到攻击流量时动态的向上追踪。这种方式在 DDoS 攻击追溯中比较有效，且网络开销较小。&lt;/p&gt;
&lt;h2 id=&#34;可控洪泛技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#可控洪泛技术&#34;&gt;#&lt;/a&gt; 可控洪泛技术&lt;/h2&gt;
&lt;p&gt;追踪时向潜在的上游路由器进行洪泛攻击，如果发现收到的攻击流量变少则攻击流量会流经相应的路由。这种方式的优点在于不需要预先部署，对协同的需求比较少。但是这种方式本身是一种攻击，会对网络有所影响。&lt;/p&gt;
&lt;h2 id=&#34;基于包数据修改追溯技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基于包数据修改追溯技术&#34;&gt;#&lt;/a&gt; 基于包数据修改追溯技术&lt;/h2&gt;
&lt;p&gt;这种溯源方式直接对数据包进行修改，加入编码或者标记信息，在接收端对传输路径进行重构。这种方式人力投入较少，支持事后分析，但是对某些协议的支持性不太好。&lt;/p&gt;
&lt;p&gt;基于这种方式衍生出了随机标记技术，各路由以一定概率对数据包进行标识，接收端收集到多个包后进行重构。&lt;/p&gt;
&lt;h1 id=&#34;基于蜜罐溯源&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#基于蜜罐溯源&#34;&gt;#&lt;/a&gt; 基于蜜罐溯源&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;社交网络 jsonp API&lt;/li&gt;
&lt;li&gt;获取攻击者 IP&lt;/li&gt;
&lt;li&gt;获取 burp 信息&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;分析模型&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#分析模型&#34;&gt;#&lt;/a&gt; 分析模型&lt;/h1&gt;
&lt;h2 id=&#34;杀伤链kill-kain模型&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#杀伤链kill-kain模型&#34;&gt;#&lt;/a&gt; 杀伤链 (Kill Kain) 模型&lt;/h2&gt;
&lt;p&gt;杀伤链这个概念源自军事领域，它是一个描述攻击环节的模型。一般杀伤链有认为侦查跟踪 (Reconnaissance)、武器构建 (Weaponization)、载荷投递 (Delivery)、漏洞利用 (Exploitation)、安装植入 (Installation)、通信控制 (Command&amp;amp;Control)、达成目标 (Actions on Objective) 等几个阶段。&lt;/p&gt;
&lt;p&gt;在越早的杀伤链环节阻止攻击，防护效果就越好，因此杀伤链的概念也可以用来反制攻击。&lt;/p&gt;
&lt;p&gt;在跟踪阶段，攻击者通常会采用扫描和搜索等方式来寻找可能的目标信息并评估攻击成本。在这个阶段可以通过日志分析、邮件分析等方式来发现，这阶段也可以采用威胁情报等方式来获取攻击信息。&lt;/p&gt;
&lt;p&gt;武器构建阶段攻击者通常已经准备好了攻击工具，并进行尝试性的攻击，在这个阶段 IDS 中可能有攻击记录，外网应用、邮箱等帐号可能有密码爆破的记录。有一些攻击者会使用公开攻击工具，会带有一定的已知特征。&lt;/p&gt;
&lt;p&gt;载荷投递阶段攻击者通常会采用网络漏洞、鱼叉、水坑、网络劫持、U 盘等方式投送恶意代码。此阶段已经有人员在对应的途径收到了攻击载荷，对人员进行充分的安全培训可以做到一定程度的防御。&lt;/p&gt;
&lt;p&gt;突防利用阶段攻击者会执行恶意代码来获取系统控制权限，此时木马程序已经执行，此阶段可以依靠杀毒软件、异常行为告警等方式来找到相应的攻击。&lt;/p&gt;
&lt;p&gt;安装植入阶段攻击者通常会在 web 服务器上安装 Webshell 或植入后门、rootkit 等来实现对服务器的持久化控制。可以通过对样本进行逆向工程来找到这些植入。&lt;/p&gt;
&lt;p&gt;通信控制阶段攻击者已经实现了远程通信控制，木马会通过 Web 三方网站、DNS 隧道、邮件等方式和控制服务器进行通信。此时可以通过对日志进行分析来找到木马的痕迹。&lt;/p&gt;
&lt;p&gt;达成目标阶段时，攻击者开始完成自己的目的，可能是破坏系统正常运行、窃取目标数据、敲诈勒索、横向移动等。此时受控机器中可能已经有攻击者的上传的攻击利用工具，此阶段可以使用蜜罐等方式来发现。&lt;/p&gt;
&lt;h2 id=&#34;钻石diamond模型&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#钻石diamond模型&#34;&gt;#&lt;/a&gt; 钻石 (Diamond) 模型&lt;/h2&gt;
&lt;p&gt;钻石模型由网络情报分析与威胁研究中心 (The Center for Cyber Intelligence Anaysis and Threat Research，CCIATR) 机构的 Sergio Catagirone 等人在 2013 年提出。&lt;/p&gt;
&lt;p&gt;该模型把所有的安全事件 (Event) 分为四个核心元素，即敌手 (Adversary)，能力 (Capability)，基础设施 (Infrastructure) 和受害者 (Victim)，以菱形连线代表它们之间的关系，因而命名为 “钻石模型”。&lt;/p&gt;
&lt;p&gt;杀伤链模型的特点是可说明攻击线路和攻击的进程，而钻石模型的特点是可说明攻击者在单个事件中的攻击目的和所使用攻击手法。&lt;/p&gt;
&lt;p&gt;在使用钻石模型分析时，通常使用支点分析的方式。支点 (Pivoting) 指提取一个元素，并利用该元素与数据源相结合以发现相关元素的分析技术。分析中可以随时变换支点，四个核心特征以及两个扩展特征 (社会政治、技术) 都可能成为当时的分析支点。&lt;/p&gt;
&lt;h1 id=&#34;关联分析方法&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#关联分析方法&#34;&gt;#&lt;/a&gt; 关联分析方法&lt;/h1&gt;
&lt;p&gt;关联分析用于把多个不同的攻击样本结合起来。&lt;/p&gt;
&lt;h2 id=&#34;文档类&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#文档类&#34;&gt;#&lt;/a&gt; 文档类&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;hash&lt;/li&gt;
&lt;li&gt;ssdeep&lt;/li&gt;
&lt;li&gt;版本信息 (公司 / 作者 / 最后修改作者 / 创建时间 / 最后修改时间)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;行为分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#行为分析&#34;&gt;#&lt;/a&gt; 行为分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;基于网络行为&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;类似的交互方式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;可执行文件相似性分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#可执行文件相似性分析&#34;&gt;#&lt;/a&gt; 可执行文件相似性分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;特殊端口&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;特殊字符串 / 密钥&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;PDB 文件路径&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;相似的文件夹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;代码复用&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;相似的代码片段&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;清除日志方式&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#清除日志方式&#34;&gt;#&lt;/a&gt; 清除日志方式&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;kill &amp;lt;bash process ID&amp;gt;&lt;/code&gt;  不会存储&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set +o history&lt;/code&gt;  不写入历史记录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unset HISTFILE&lt;/code&gt;  清除历史记录的环境变量&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvdmxyMlg2OHRNVGdEaGREazRhb3cwZw==&#34;&gt;利用社交账号精准溯源的蜜罐技术&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/</guid>
            <title>应急响应</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%BA%94%E6%80%A5%E5%93%8D%E5%BA%94/</link>
            <category>Windows</category>
            <category>应急响应</category>
            <category>流程</category>
            <category>Linux</category>
            <pubDate>Mon, 05 Dec 2022 16:40:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;响应流程&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#响应流程&#34;&gt;#&lt;/a&gt; 响应流程&lt;/h1&gt;
&lt;h2 id=&#34;事件发生&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#事件发生&#34;&gt;#&lt;/a&gt; 事件发生&lt;/h2&gt;
&lt;p&gt;运维监控人员、客服审核人员等发现问题，向上通报。&lt;/p&gt;
&lt;h2 id=&#34;事件确认&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#事件确认&#34;&gt;#&lt;/a&gt; 事件确认&lt;/h2&gt;
&lt;p&gt;收集事件信息、分析网络活动相关程序，日志和数据，判断事件的严重性，评估出问题的严重等级，是否向上进行汇报等。&lt;/p&gt;
&lt;h2 id=&#34;事件响应&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#事件响应&#34;&gt;#&lt;/a&gt; 事件响应&lt;/h2&gt;
&lt;p&gt;各部门通力合作，处理安全问题，具体解决问题，避免存在漏洞未修补、后门未清除等残留问题。&lt;/p&gt;
&lt;h2 id=&#34;事件关闭&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#事件关闭&#34;&gt;#&lt;/a&gt; 事件关闭&lt;/h2&gt;
&lt;p&gt;处理完事件之后，需要关闭事件，并写出安全应急处理分析报告，完成整个应急过程。&lt;/p&gt;
&lt;h1 id=&#34;事件分类&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#事件分类&#34;&gt;#&lt;/a&gt; 事件分类&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;病毒、木马、蠕虫事件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Web 服务器入侵事件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第三方服务入侵事件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;系统入侵事件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;利用 Windows 漏洞攻击操作系统&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网络攻击事件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DDoS / ARP 欺骗 / DNS 劫持等&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;分析方向&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#分析方向&#34;&gt;#&lt;/a&gt; 分析方向&lt;/h1&gt;
&lt;h2 id=&#34;文件分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#文件分析&#34;&gt;#&lt;/a&gt; 文件分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;基于变化的分析&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;日期&lt;/li&gt;
&lt;li&gt;文件增改&lt;/li&gt;
&lt;li&gt;最近使用文件&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;源码分析&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;检查源码改动&lt;/li&gt;
&lt;li&gt;查杀 WebShell 等后门&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;系统日志分析&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;应用日志分析&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分析 User-Agent，e.g.  &lt;code&gt;awvs / burpsuite / w3af / nessus / openvas&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;对每种攻击进行关键字匹配，e.g.  &lt;code&gt;select/alert/eval&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;异常请求，连续的 404 或者 500&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;md5sum&lt;/code&gt;  检查常用命令二进制文件的哈希，检查是否被植入 rootkit&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;进程分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#进程分析&#34;&gt;#&lt;/a&gt; 进程分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;符合以下特征的进程&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU 或内存资源占用长时间过高&lt;/li&gt;
&lt;li&gt;没有签名验证信息&lt;/li&gt;
&lt;li&gt;没有描述信息的进程&lt;/li&gt;
&lt;li&gt;进程的路径不合法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;dump 系统内存进行分析&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;正在运行的进程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;正在运行的服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;父进程和子进程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;后台可执行文件的完整哈希&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;已安装的应用程序&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;运行着密钥或其他正在自动运行的持久化程序&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;计划任务&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;身份信息分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#身份信息分析&#34;&gt;#&lt;/a&gt; 身份信息分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;本地以及域账号用户&lt;/li&gt;
&lt;li&gt;异常的身份验证&lt;/li&gt;
&lt;li&gt;非标准格式的用户名&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;日志分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#日志分析&#34;&gt;#&lt;/a&gt; 日志分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;杀软检测记录&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;网络分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#网络分析&#34;&gt;#&lt;/a&gt; 网络分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;防火墙配置&lt;/li&gt;
&lt;li&gt;DNS 配置&lt;/li&gt;
&lt;li&gt;路由配置&lt;/li&gt;
&lt;li&gt;监听端口和相关服务&lt;/li&gt;
&lt;li&gt;最近建立的网络连接&lt;/li&gt;
&lt;li&gt;RDP / VPN / SSH 等会话&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;配置分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#配置分析&#34;&gt;#&lt;/a&gt; 配置分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;查看 Linux SE 等配置&lt;/li&gt;
&lt;li&gt;查看环境变量&lt;/li&gt;
&lt;li&gt;查看配套的注册表信息检索，SAM 文件&lt;/li&gt;
&lt;li&gt;内核模块&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;linux应急响应&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#linux应急响应&#34;&gt;#&lt;/a&gt; Linux 应急响应&lt;/h1&gt;
&lt;h2 id=&#34;文件分析-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#文件分析-2&#34;&gt;#&lt;/a&gt; 文件分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;最近使用文件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;find / -ctime -2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C:\Documents and Settings\Administrator\Recent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C:\Documents and Settings\Default User\Recent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%UserProfile%\Recent&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;系统日志分析&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/var/log/&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;重点分析位置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/var/log/wtmp&lt;/code&gt;  登录进入，退出，数据交换、关机和重启纪录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/var/run/utmp&lt;/code&gt;  有关当前登录用户的信息记录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/var/log/lastlog&lt;/code&gt;  文件记录用户最后登录的信息，可用 lastlog 命令来查看。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/var/log/secure&lt;/code&gt;  记录登入系统存取数据的文件，例如 pop3/ssh/telnet/ftp 等都会被记录。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/var/log/cron&lt;/code&gt;  与定时任务相关的日志信息&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/var/log/message&lt;/code&gt;  系统启动后的信息和错误日志&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/var/log/apache2/access.log&lt;/code&gt;  apache access log&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/passwd&lt;/code&gt;  用户列表&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/init.d/&lt;/code&gt;  开机启动项&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/cron*&lt;/code&gt;  定时任务&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/tmp&lt;/code&gt;  临时目录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.ssh&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;用户分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#用户分析&#34;&gt;#&lt;/a&gt; 用户分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/shadow&lt;/code&gt;  密码登陆相关信息&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uptime&lt;/code&gt;  查看用户登陆时间&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/sudoers&lt;/code&gt;  sudo 用户列表&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;进程分析-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#进程分析-2&#34;&gt;#&lt;/a&gt; 进程分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;netstat -ano&lt;/code&gt;  查看是否打开了可疑端口&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;w&lt;/code&gt;  命令，查看用户及其进程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分析开机自启程序 / 脚本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/init.d&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.bashrc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看计划或定时任务&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;crontab -l&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;netstat -an&lt;/code&gt;  /  &lt;code&gt;lsof&lt;/code&gt;  查看进程端口占用&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;windows应急响应&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#windows应急响应&#34;&gt;#&lt;/a&gt; Windows 应急响应&lt;/h1&gt;
&lt;h2 id=&#34;文件分析-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#文件分析-3&#34;&gt;#&lt;/a&gt; 文件分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;最近使用文件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C:\Documents and Settings\Administrator\Recent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C:\Documents and Settings\Default User\Recent&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%UserProfile%\Recent&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;系统日志分析&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件查看器  &lt;code&gt;eventvwr.msc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;用户分析-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#用户分析-2&#34;&gt;#&lt;/a&gt; 用户分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;查看是否有新增用户&lt;/li&gt;
&lt;li&gt;查看服务器是否有弱口令&lt;/li&gt;
&lt;li&gt;查看管理员对应键值&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lusrmgr.msc&lt;/code&gt;  查看账户变化&lt;/li&gt;
&lt;li&gt;&lt;code&gt;net user&lt;/code&gt;  列出当前登录账户&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wmic UserAccount get&lt;/code&gt;  列出当前系统所有账户&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;进程分析-3&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#进程分析-3&#34;&gt;#&lt;/a&gt; 进程分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;netstat -ano&lt;/code&gt;  查看是否打开了可疑端口&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;tasklist&lt;/code&gt;  查看是否有可疑进程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分析开机自启程序&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Run&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\Runonce&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\RunServices&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\RunServicesOnce&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\policies\Explorer\Run&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunOnce&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunServices&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunServicesOnce&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;(ProfilePath)\Start Menu\Programs\Startup&lt;/code&gt;  启动项&lt;/li&gt;
&lt;li&gt;&lt;code&gt;msconfig&lt;/code&gt;  启动选项卡&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gpedit.msc&lt;/code&gt;  组策略编辑器&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看计划或定时任务&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;C:\Windows\System32\Tasks\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C:\Windows\SysWOW64\Tasks\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;C:\Windows\tasks\&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;schtasks&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;taskschd.msc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;compmgmt.msc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看启动服务&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;services.msc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;日志分析-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#日志分析-2&#34;&gt;#&lt;/a&gt; 日志分析&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;事件查看
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;eventvwr.msc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;其他&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#其他&#34;&gt;#&lt;/a&gt; 其他&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;查看系统环境变量&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTE0MA==&#34;&gt;黑客入侵应急分析手工排查&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3d3dy5mcmVlYnVmLmNvbS9jb2x1bW4vMTQ3OTI5Lmh0bWw=&#34;&gt;取证入门 web 篇&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMjUyNA==&#34;&gt;Windows 系统安全事件应急响应&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTYzMg==&#34;&gt;企业安全应急响应&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly91cy1jZXJ0LmNpc2EuZ292L25jYXMvYWxlcnRzL2FhMjAtMjQ1YQ==&#34;&gt;Technical Approaches to Uncovering and Remediating Malicious Activity&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E8%9C%9C%E7%BD%90%E6%8A%80%E6%9C%AF/</guid>
            <title>蜜罐技术</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E8%9C%9C%E7%BD%90%E6%8A%80%E6%9C%AF/</link>
            <category>蜜罐</category>
            <category>隐藏</category>
            <category>诱导</category>
            <pubDate>Mon, 05 Dec 2022 16:30:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;简介&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#简介&#34;&gt;#&lt;/a&gt; 简介&lt;/h1&gt;
&lt;p&gt;蜜罐是对攻击者的欺骗技术，用以监视、检测、分析和溯源攻击行为，其没有业务上的用途，所有流入 / 流出蜜罐的流量都预示着扫描或者攻击行为，因此可以比较好的聚焦于攻击流量。&lt;/p&gt;
&lt;p&gt;蜜罐可以实现对攻击者的主动诱捕，能够详细地记录攻击者攻击过程中的许多痕迹，可以收集到大量有价值的数据，如病毒或蠕虫的源码、黑客的操作等，从而便于提供丰富的溯源数据。另外蜜罐也可以消耗攻击者的时间，基于 JSONP 等方式来获取攻击者的画像。&lt;/p&gt;
&lt;p&gt;但是蜜罐存在安全隐患，如果没有做好隔离，可能成为新的攻击源。&lt;/p&gt;
&lt;h1 id=&#34;分类&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#分类&#34;&gt;#&lt;/a&gt; 分类&lt;/h1&gt;
&lt;p&gt;按用途分类，蜜罐可以分为研究型蜜罐和产品型蜜罐。研究型蜜罐一般是用于研究各类网络威胁，寻找应对的方式，不增加特定组织的安全性。产品型蜜罐主要是用于防护的商业产品。&lt;/p&gt;
&lt;p&gt;按交互方式分类，蜜罐可以分为低交互蜜罐和高交互蜜罐。低交互蜜罐模拟网络服务响应和攻击者交互，容易部署和控制攻击，但是模拟能力会相对较弱，对攻击的捕获能力不强。高交互蜜罐不是简单模拟协议或服务，而是提供真实的系统，使得被发现的概率大幅度降低。但是高交互蜜罐部署不当时存在被攻击者利用的可能性。&lt;/p&gt;
&lt;h1 id=&#34;隐藏技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#隐藏技术&#34;&gt;#&lt;/a&gt; 隐藏技术&lt;/h1&gt;
&lt;p&gt;蜜罐主要涉及到的是伪装技术，主要涉及到进程隐藏、服务伪装等技术。&lt;/p&gt;
&lt;p&gt;蜜罐之间的隐藏，要求蜜罐之间相互隐蔽。进程隐藏，蜜罐需要隐藏监控、信息收集等进程。伪服务和命令技术，需要对部分服务进行伪装，防止攻击者获取敏感信息或者入侵控制内核。数据文件伪装，需要生成合理的虚假数据的文件。&lt;/p&gt;
&lt;h1 id=&#34;牵引技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#牵引技术&#34;&gt;#&lt;/a&gt; 牵引技术&lt;/h1&gt;
&lt;p&gt;蜜罐牵引技术是在识别到攻击者流量后，通过在正式环境中改变路由、返回特定响应的方式将攻击者牵引到特定的蜜罐地址。 常见的牵引技术有下面几种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;防火墙牵引&lt;/li&gt;
&lt;li&gt;SDN 牵引&lt;/li&gt;
&lt;li&gt;ARP 牵引&lt;/li&gt;
&lt;li&gt;WAF 牵引&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;诱饵技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#诱饵技术&#34;&gt;#&lt;/a&gt; 诱饵技术&lt;/h1&gt;
&lt;p&gt;可以在互联网中部署一定的诱饵来吸引攻击者进入特定的蜜罐中。 常见的诱饵有域名诱饵、Github 诱饵、网盘诱饵、邮件诱饵、主机诱饵、文件诱饵、漏洞诱饵等。&lt;/p&gt;
&lt;p&gt;域名诱饵指使用特定的在字典中且有意义的主域名做为诱饵，比如  &lt;code&gt;vpn.example.com&lt;/code&gt;  /  &lt;code&gt;oa.example.com&lt;/code&gt;  等。&lt;/p&gt;
&lt;p&gt;Github 诱饵指在 Github 中放置代码文件、失陷凭证的方式。&lt;/p&gt;
&lt;p&gt;文件诱饵是在容易失陷的主机中放置虚假的拓扑图，关键系统 IP 的文件，从而诱导攻击者的方式。&lt;/p&gt;
&lt;p&gt;漏洞诱饵通过部署存在特定漏洞特征的蜜罐站，吸引攻击者攻击。&lt;/p&gt;
&lt;h1 id=&#34;反制技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#反制技术&#34;&gt;#&lt;/a&gt; 反制技术&lt;/h1&gt;
&lt;p&gt;蜜罐可以使用一些方式对攻击者进行反制，常见的方式有 Jsonp、安全工具漏洞、Client 漏洞反制、文件反制等方式。&lt;/p&gt;
&lt;p&gt;Jsonp 主要是使用各大网站的 Jsonp 获取攻击者已经登录的社交账号，用以溯源。 另外如果攻击者使用流量的方式访问蜜罐网站，可以使用运营商接口获取攻击者的手机号。&lt;/p&gt;
&lt;p&gt;安全工具漏洞是指使用安全工具的漏洞进行反制，例如 Git 泄露工具存在的文件泄露漏洞，基于 Electron 的工具存在的 XSS to RCE 等。&lt;/p&gt;
&lt;p&gt;Client 反制，指使用虚假的 Server 对存在漏洞的客户端进行反制，例如通过 MySQL Client 读取文件，基于 RDP/SMB 的漏洞进行 RCE。&lt;/p&gt;
&lt;p&gt;反制文件，指在蜜罐环境中设置特定的文件，例如伪装的 VPN 客户端、特定插件来诱导攻击者点击。&lt;/p&gt;
&lt;p&gt;DoS 反制，在获取到攻击者的 C2 样本后，可以通过批量上线的方式影响 C2 攻击者的控制服务器。&lt;/p&gt;
&lt;h1 id=&#34;识别技术&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#识别技术&#34;&gt;#&lt;/a&gt; 识别技术&lt;/h1&gt;
&lt;p&gt;攻击者也会尝试对蜜罐进行识别。比较容易的识别的是低交互的蜜罐，尝试一些比较复杂且少见的操作能比较容易的识别低交互的蜜罐。相对困难的是高交互蜜罐的识别，因为高交互蜜罐通常以真实系统为基础来构建，和真实系统比较近似。对这种情况，通常会基于虚拟文件系统和注册表的信息、内存分配特征、硬件特征、特殊指令等来识别。&lt;/p&gt;
&lt;h2 id=&#34;协议实现识别&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#协议实现识别&#34;&gt;#&lt;/a&gt; 协议实现识别&lt;/h2&gt;
&lt;p&gt;部分蜜罐在实现的过程中，协议的部分参数固定或随机的范围有限，可以通过特定参数的范围来识别蜜罐。&lt;/p&gt;
&lt;p&gt;部分蜜罐协议支持的版本范围为某一特定版本范围，可以通过对应的版本范围来推测是否为蜜罐。&lt;/p&gt;
&lt;p&gt;部分蜜罐在交互过程中有探测客户端特征的交互，可以通过这些交互过程来识别蜜罐。&lt;/p&gt;
&lt;p&gt;部分蜜罐对不正确的请求也返回正常的相应，可以通过这种特征来判定蜜罐。&lt;/p&gt;
&lt;h2 id=&#34;环境特征&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#环境特征&#34;&gt;#&lt;/a&gt; 环境特征&lt;/h2&gt;
&lt;p&gt;部分蜜罐的用户名、密码固定，或内存使用、进程占用等动态特征变化较为规律，可以通过这种方式来判断是否为蜜罐。&lt;/p&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSG9uZXlwb3RfKGNvbXB1dGluZyk=&#34;&gt;honeypot wiki&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL3RocmVhdHN0cmVhbS5naXRodWIuaW8vbWhuLw==&#34;&gt;Modern Honey Network&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubW9yZXNlYy5jbi9tYWdpYy1zaGllbGQuaHRtbA==&#34;&gt;默安科技：幻阵&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvOTk4&#34;&gt;蜜罐与内网安全从 0 到 1&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXprME56RTRNREUyTkE9PSZhbXA7bWlkPTIyNDc0ODM5MDgmYW1wO2lkeD0xJmFtcDtzbj1lNmEzMTllMjJjM2NkNTQ2NTBiZGJiYTUxMWU1OGE0Mw==&#34;&gt;浅析开源蜜罐识别与全网测绘&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/</guid>
            <title>入侵检测</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%85%A5%E4%BE%B5%E6%A3%80%E6%B5%8B/</link>
            <category>入侵检测</category>
            <category>IDS</category>
            <category>IPS</category>
            <pubDate>Mon, 05 Dec 2022 16:25:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;ids与ips&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ids与ips&#34;&gt;#&lt;/a&gt; IDS 与 IPS&lt;/h1&gt;
&lt;p&gt;IDS 与 IPS 是常见的防护设备，IPS 相对 IDS 的不同点在于，IPS 通常具有阻断能力。&lt;/p&gt;
&lt;h1 id=&#34;常见入侵点&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#常见入侵点&#34;&gt;#&lt;/a&gt; 常见入侵点&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Web 入侵&lt;/li&gt;
&lt;li&gt;高危服务入侵&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;监控实现&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#监控实现&#34;&gt;#&lt;/a&gt; 监控实现&lt;/h1&gt;
&lt;h2 id=&#34;客户端监控&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#客户端监控&#34;&gt;#&lt;/a&gt; 客户端监控&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;监控敏感配置文件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;常用命令 ELF 文件完整性监控&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ps&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lsof&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;rootkit 监控&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;资源使用报警&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;内存使用率&lt;/li&gt;
&lt;li&gt;CPU 使用率&lt;/li&gt;
&lt;li&gt;IO 使用率&lt;/li&gt;
&lt;li&gt;网络使用率&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;新出现进程监控&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;基于 inotify 的文件监控&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;网络检测&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#网络检测&#34;&gt;#&lt;/a&gt; 网络检测&lt;/h2&gt;
&lt;p&gt;基于网络层面的攻击向量做检测，如 Snort 等。&lt;/p&gt;
&lt;h2 id=&#34;日志分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#日志分析&#34;&gt;#&lt;/a&gt; 日志分析&lt;/h2&gt;
&lt;p&gt;将主机系统安全日志 / 操作日志、网络设备流量日志、Web 应用访问日志、SQL 应用访问日志等日志集中到一个统一的后台，在后台中对各类日志进行综合的分析。&lt;/p&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvZXMvMTk0NTEwLmh0bWw=&#34;&gt;企业安全建设之 HIDS&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTYyNi8=&#34;&gt;大型互联网企业入侵检测实战总结&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3Mva3plQUV2ei1lakxENzFmZ2I1dDh0QQ==&#34;&gt;同程入侵检测系统&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMjEzNg==&#34;&gt;Web 日志安全分析系统实践&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTEyMQ==&#34;&gt;Web 日志安全分析浅谈&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvUUplVzdLLUtUaFlIZ2dXdEotRmgzdw==&#34;&gt;网络层绕过 IDS/IPS 的一些探索&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%8A%A0%E5%9B%BA%E6%A3%80%E6%9F%A5/</guid>
            <title>加固检查</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%8A%A0%E5%9B%BA%E6%A3%80%E6%9F%A5/</link>
            <category>防御加固</category>
            <category>管理策略</category>
            <pubDate>Mon, 05 Dec 2022 16:20:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;网络设备&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#网络设备&#34;&gt;#&lt;/a&gt; 网络设备&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;及时检查系统版本号&lt;/li&gt;
&lt;li&gt;敏感服务设置访问 IP/MAC 白名单&lt;/li&gt;
&lt;li&gt;开启权限分级控制&lt;/li&gt;
&lt;li&gt;关闭不必要的服务&lt;/li&gt;
&lt;li&gt;打开操作日志&lt;/li&gt;
&lt;li&gt;配置异常告警&lt;/li&gt;
&lt;li&gt;关闭 ICMP 回应&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;操作系统&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#操作系统&#34;&gt;#&lt;/a&gt; 操作系统&lt;/h1&gt;
&lt;h2 id=&#34;linux&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#linux&#34;&gt;#&lt;/a&gt; Linux&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;无用用户 / 用户组检查&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;空口令帐号检查&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用户密码策略&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/etc/login.defs&lt;/li&gt;
&lt;li&gt;/etc/pam.d/system-auth&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;敏感文件权限配置&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/etc/passwd&lt;/li&gt;
&lt;li&gt;/etc/shadow&lt;/li&gt;
&lt;li&gt;~/.ssh/&lt;/li&gt;
&lt;li&gt;/var/log/messages&lt;/li&gt;
&lt;li&gt;/var/log/secure&lt;/li&gt;
&lt;li&gt;/var/log/maillog&lt;/li&gt;
&lt;li&gt;/var/log/cron&lt;/li&gt;
&lt;li&gt;/var/log/spooler&lt;/li&gt;
&lt;li&gt;/var/log/boot.log&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;日志是否打开&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;及时安装补丁&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;开机自启&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/etc/init.d&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检查系统时钟&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;windows&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#windows&#34;&gt;#&lt;/a&gt; Windows&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;异常进程监控&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;异常启动项监控&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;异常服务监控&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置系统日志&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用户账户&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设置口令有效期&lt;/li&gt;
&lt;li&gt;设置口令强度限制&lt;/li&gt;
&lt;li&gt;设置口令重试次数&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;安装 EMET&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启用 PowerShell 日志&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;限制以下敏感文件的下载和执行&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ade, adp, ani, bas, bat, chm, cmd, com, cpl, crt, hlp, ht, hta, inf, ins, isp, job, js, jse, lnk, mda, mdb, mde, mdz, msc, msi, msp, mst, pcd, pif, reg, scr, sct, shs, url, vb, vbe, vbs, wsc, wsf, wsh, exe, pif&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;限制会调起 wscript 的后缀&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bat, js, jse, vbe, vbs, wsf, wsh&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;域&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;限制将计算机加入域的权限域账户使用最小权限原则减少非必要高权限账户的数量&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;应用&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#应用&#34;&gt;#&lt;/a&gt; 应用&lt;/h1&gt;
&lt;h2 id=&#34;ftp&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ftp&#34;&gt;#&lt;/a&gt; FTP&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;禁止匿名登录&lt;/li&gt;
&lt;li&gt;修改 Banner&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ssh&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#ssh&#34;&gt;#&lt;/a&gt; SSH&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;是否禁用 ROOT 登录&lt;/li&gt;
&lt;li&gt;是否禁用密码连接&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mysql&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#mysql&#34;&gt;#&lt;/a&gt; MySQL&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;文件写权限设置&lt;/li&gt;
&lt;li&gt;用户授权表管理&lt;/li&gt;
&lt;li&gt;日志是否启用&lt;/li&gt;
&lt;li&gt;版本是否最新&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;web中间件&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#web中间件&#34;&gt;#&lt;/a&gt; Web 中间件&lt;/h1&gt;
&lt;h2 id=&#34;apache&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#apache&#34;&gt;#&lt;/a&gt; Apache&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;版本号隐藏&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;版本是否最新&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;禁用部分 HTTP 动词&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;关闭 Trace&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;禁止  &lt;code&gt;server-status&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;上传文件大小限制&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;目录权限设置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否允许路由重写&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否允许列目录&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;日志配置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置超时时间防 DoS&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;非属主用户文件读写限制&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;httpd.conf&lt;/li&gt;
&lt;li&gt;access.log&lt;/li&gt;
&lt;li&gt;error.log&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;nginx&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#nginx&#34;&gt;#&lt;/a&gt; Nginx&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;禁用部分 HTTP 动词&lt;/li&gt;
&lt;li&gt;禁用目录遍历&lt;/li&gt;
&lt;li&gt;检查重定向配置&lt;/li&gt;
&lt;li&gt;配置超时时间防 DoS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;iis&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#iis&#34;&gt;#&lt;/a&gt; IIS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;版本是否最新&lt;/li&gt;
&lt;li&gt;日志配置&lt;/li&gt;
&lt;li&gt;用户口令配置&lt;/li&gt;
&lt;li&gt;ASP.NET 功能配置&lt;/li&gt;
&lt;li&gt;配置超时时间防 DoS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;jboss&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#jboss&#34;&gt;#&lt;/a&gt; JBoss&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;jmx console 配置&lt;/li&gt;
&lt;li&gt;web console 配置&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;tomcat&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#tomcat&#34;&gt;#&lt;/a&gt; Tomcat&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;禁用部分 HTTP 动词&lt;/li&gt;
&lt;li&gt;禁止列目录&lt;/li&gt;
&lt;li&gt;禁止 manager 功能&lt;/li&gt;
&lt;li&gt;用户密码配置&lt;/li&gt;
&lt;li&gt;用户权限配置&lt;/li&gt;
&lt;li&gt;配置超时时间防 DoS&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;密码管理策略&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#密码管理策略&#34;&gt;#&lt;/a&gt; 密码管理策略&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;长度不少于 8 个字符&lt;/li&gt;
&lt;li&gt;不存在于已有字典之中&lt;/li&gt;
&lt;li&gt;不使用基于知识的认证方式&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL1BhdWxTZWMvYXdlc29tZS13aW5kb3dzLWRvbWFpbi1oYXJkZW5pbmc=&#34;&gt;awesome windows domain hardening&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vemgtY24vd2luZG93cy9zZWN1cml0eS90aHJlYXQtcHJvdGVjdGlvbi9taWNyb3NvZnQtZGVmZW5kZXItYXRwL2N1c3RvbWl6ZS1hdHRhY2stc3VyZmFjZS1yZWR1Y3Rpb24=&#34;&gt;customize attack surface reduction&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E9%98%B2%E5%BE%A1%E6%A1%86%E6%9E%B6/</guid>
            <title>防御框架</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E9%98%B2%E5%BE%A1%E6%A1%86%E6%9E%B6/</link>
            <category>防御纵深</category>
            <category>访问控制</category>
            <category>过滤</category>
            <category>框架</category>
            <pubDate>Mon, 05 Dec 2022 16:15:15 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;防御纵深&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#防御纵深&#34;&gt;#&lt;/a&gt; 防御纵深&lt;/h1&gt;
&lt;p&gt;根据纵深，防御可以分为物理层、数据层、终端层、系统层、网络层、应用层几层。这几层纵深存在层层递进相互依赖的关系。&lt;/p&gt;
&lt;h2 id=&#34;物理层&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#物理层&#34;&gt;#&lt;/a&gt; 物理层&lt;/h2&gt;
&lt;p&gt;物理层实际应用中接触较少，但仍是非常重要的位置。如果物理层设计不当，很容易被攻击者通过物理手段绕过上层防御。&lt;/p&gt;
&lt;h2 id=&#34;数据层&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#数据层&#34;&gt;#&lt;/a&gt; 数据层&lt;/h2&gt;
&lt;p&gt;数据处于防御纵深较底层的位置，攻击的目标往往也是为了拿到数据，很多防御也是围绕数据不被破坏、窃取等展开的。&lt;/p&gt;
&lt;h2 id=&#34;终端层&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#终端层&#34;&gt;#&lt;/a&gt; 终端层&lt;/h2&gt;
&lt;p&gt;终端包括 PC、手机、IoT 以及其他的智能设备，连入网络的终端是否可信是需要解决的问题。&lt;/p&gt;
&lt;h2 id=&#34;系统层&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#系统层&#34;&gt;#&lt;/a&gt; 系统层&lt;/h2&gt;
&lt;p&gt;操作系统运行在终端上，可能会存在提权、非授权访问等问题。&lt;/p&gt;
&lt;h2 id=&#34;网络层&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#网络层&#34;&gt;#&lt;/a&gt; 网络层&lt;/h2&gt;
&lt;p&gt;网络层使用通信线路将多台计算机相互连接起来，依照商定的协议进行通信。网络层存在 MITM、DDoS 等攻击。&lt;/p&gt;
&lt;h2 id=&#34;应用层&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#应用层&#34;&gt;#&lt;/a&gt; 应用层&lt;/h2&gt;
&lt;p&gt;应用层是最上层，主要涉及到 Web 应用程序的各种攻击。&lt;/p&gt;
&lt;h1 id=&#34;访问控制&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#访问控制&#34;&gt;#&lt;/a&gt; 访问控制&lt;/h1&gt;
&lt;p&gt;Web 应用需要限制用户对应用程序的数据和功能的访问，以防止用户未经授权访问。访问控制的过程可以分为验证、会话管理和访问控制三个地方。&lt;/p&gt;
&lt;h2 id=&#34;验证机制&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#验证机制&#34;&gt;#&lt;/a&gt; 验证机制&lt;/h2&gt;
&lt;p&gt;验证机制在一个应用程序的用户访问处理中是一个最基本的部分，验证就是确定该用户的有效性。大多数的 web 应用都采用使用的验证模型，即用户提交一个用户名和密码，应用检查它的有效性。在银行等安全性很重要的应用程序中，基本的验证模型通常需要增加额外的证书和多级登录过程，比如客户端证书、硬件等。&lt;/p&gt;
&lt;h2 id=&#34;会话管理&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#会话管理&#34;&gt;#&lt;/a&gt; 会话管理&lt;/h2&gt;
&lt;p&gt;为了实施有效的访问控制，应用程序需要一个方法来识别和处理这一系列来自每个不同用户的请求。大部分程序会为每个会话创建一个唯一性的 token 来识别。&lt;/p&gt;
&lt;p&gt;对攻击者来说，会话管理机制高度地依赖于 token 的安全性。在部分情况下，一个攻击者可以伪装成受害的授权用户来使用 Web 应用程序。这种情况可能有几种原因，其一是 token 生成的算法的缺陷，使得攻击者能够猜测到其他用户的 token；其二是 token 后续处理的方法的缺陷，使得攻击者能够获得其他用户的 token。&lt;/p&gt;
&lt;h2 id=&#34;访问控制-2&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#访问控制-2&#34;&gt;#&lt;/a&gt; 访问控制&lt;/h2&gt;
&lt;p&gt;处理用户访问的最后一步是正确决定对于每个独立的请求是允许还是拒绝。如果前面的机制都工作正常，那么应用程序就知道每个被接受到的请求所来自的用户的 id，并据此决定用户对所请求要执行的动作或要访问的数据是否得到了授权。&lt;/p&gt;
&lt;p&gt;由于访问控制本身的复杂性，这使得它成为攻击者的常用目标。开发者经常对用户会如何与应用程序交互作出有缺陷的假设，也经常省略了对某些应用程序功能的访问控制检查。&lt;/p&gt;
&lt;h1 id=&#34;输入处理&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#输入处理&#34;&gt;#&lt;/a&gt; 输入处理&lt;/h1&gt;
&lt;p&gt;很多对 Web 应用的攻击都涉及到提交未预期的输入，它导致了该应用程序设计者没有料到的行为。因此，对于应用程序安全性防护的一个关键的要求是它必须以一个安全的方式处理用户的输入。&lt;/p&gt;
&lt;p&gt;基于输入的漏洞可能出现在一个应用程序的功能的任何地方，并与其使用的技术类型相关。对于这种攻击，输入验证是常用的必要防护。常用的防护机制有如下几种：黑名单、白名单、过滤、处理。&lt;/p&gt;
&lt;h2 id=&#34;黑名单&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#黑名单&#34;&gt;#&lt;/a&gt; 黑名单&lt;/h2&gt;
&lt;p&gt;黑名单包含已知的被用在攻击方面的一套字面上的字符串或模式，验证机制阻挡任何匹配黑名单的数据。&lt;/p&gt;
&lt;p&gt;一般来说，这种方式是被认为是输入效果较差的一种方式。主要有两个原因，其一 Web 应用中的一个典型的漏洞可以使用很多种不同的输入来被利用，输入可以是被加密的或以各种不同的方法表示。&lt;/p&gt;
&lt;p&gt;其二，漏洞利用的技术是在不断地改进的，有关利用已存在的漏洞类型的新的方法不可能被当前黑名单阻挡。&lt;/p&gt;
&lt;h2 id=&#34;白名单&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#白名单&#34;&gt;#&lt;/a&gt; 白名单&lt;/h2&gt;
&lt;p&gt;白名单包含一系列的字符串、模式或一套标准来匹配符合要求的输入。这种检查机制允许匹配白名单的数据，阻止之外的任何数据。这种方式相对比较有效，但需要比较好的设计。&lt;/p&gt;
&lt;h2 id=&#34;过滤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#过滤&#34;&gt;#&lt;/a&gt; 过滤&lt;/h2&gt;
&lt;p&gt;过滤会删除潜在的恶意字符并留下安全的字符，基于数据过滤的方式通常是有效的，并且在许多情形中，可作为处理恶意输入的通用解决方案。&lt;/p&gt;
&lt;h2 id=&#34;安全地处理数据&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#安全地处理数据&#34;&gt;#&lt;/a&gt; 安全地处理数据&lt;/h2&gt;
&lt;p&gt;非常多的 web 应用程序漏洞的出现是因为用户提供的数据是以不安全的方法被处理的。在一些情况下，存在安全的编程方法能够避免通常的问题。例如，SQL 注入攻击能够通过预编译的方式组织，XSS 在大部分情况下能够被转义所防御。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E9%A3%8E%E9%99%A9%E6%8E%A7%E5%88%B6/</guid>
            <title>风险控制</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E9%A3%8E%E9%99%A9%E6%8E%A7%E5%88%B6/</link>
            <category>风险</category>
            <category>控制</category>
            <pubDate>Mon, 05 Dec 2022 16:08:15 +0800</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;常见风险&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#常见风险&#34;&gt;#&lt;/a&gt; 常见风险&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;会员
&lt;ul&gt;
&lt;li&gt;撞库盗号&lt;/li&gt;
&lt;li&gt;账号分享&lt;/li&gt;
&lt;li&gt;批量注册&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;视频
&lt;ul&gt;
&lt;li&gt;盗播盗看&lt;/li&gt;
&lt;li&gt;广告屏蔽&lt;/li&gt;
&lt;li&gt;刷量作弊&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;活动
&lt;ul&gt;
&lt;li&gt;恶意刷&lt;/li&gt;
&lt;li&gt;薅羊毛&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;直播
&lt;ul&gt;
&lt;li&gt;挂站人气&lt;/li&gt;
&lt;li&gt;恶意图文&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;电商
&lt;ul&gt;
&lt;li&gt;恶意下单&lt;/li&gt;
&lt;li&gt;订单欺诈&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;支付
&lt;ul&gt;
&lt;li&gt;盗号盗卡&lt;/li&gt;
&lt;li&gt;洗钱&lt;/li&gt;
&lt;li&gt;恶意下单&lt;/li&gt;
&lt;li&gt;恶意提现&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;其他
&lt;ul&gt;
&lt;li&gt;钓鱼邮件&lt;/li&gt;
&lt;li&gt;恶意爆破&lt;/li&gt;
&lt;li&gt;短信轰炸&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;872-防御策略&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#872-防御策略&#34;&gt;#&lt;/a&gt; 8.7.2. 防御策略&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;核身策略
&lt;ul&gt;
&lt;li&gt;同一收货手机号&lt;/li&gt;
&lt;li&gt;同一收货地址&lt;/li&gt;
&lt;li&gt;同一历史行为&lt;/li&gt;
&lt;li&gt;同一 IP&lt;/li&gt;
&lt;li&gt;同一设备&lt;/li&gt;
&lt;li&gt;同一支付 ID&lt;/li&gt;
&lt;li&gt;LBS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;873-异常特征&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#873-异常特征&#34;&gt;#&lt;/a&gt; 8.7.3. 异常特征&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;APP 用户异常特征
&lt;ul&gt;
&lt;li&gt;IP&lt;/li&gt;
&lt;li&gt;设备为特定型号&lt;/li&gt;
&lt;li&gt;本地 APP 列表中有沙盒 APP&lt;/li&gt;
&lt;li&gt;Root 用户&lt;/li&gt;
&lt;li&gt;同设备登录过多个账号&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;874-参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#874-参考链接&#34;&gt;#&lt;/a&gt; 8.7.4. 参考链接&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2RvYy5jb2NvbGlhbi5jbi9lc3NheS9yaXNrLzIwMTYvMTIvMTgvcmlzay0yLWRhdGFiYXNlLw==&#34;&gt;支付风控模型和流程分析&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJME1qY3pNak0yTkE9PSZhbXA7bWlkPTIyNDc0ODM4MzYmYW1wO2lkeD0xJmFtcDtzbj1kNDY4NzVjOTU3Mjg5ZDhlMDM1MzQ1OTkyYWQ3MDUzZQ==&#34;&gt;爱奇艺业务安全风控体系的建设实践&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5/</guid>
            <title>威胁情报</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%A8%81%E8%83%81%E6%83%85%E6%8A%A5/</link>
            <category>情报</category>
            <pubDate>Mon, 05 Dec 2022 16:01:21 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;简介&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#简介&#34;&gt;#&lt;/a&gt; 简介&lt;/h1&gt;
&lt;h2 id=&#34;产生原因&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#产生原因&#34;&gt;#&lt;/a&gt; 产生原因&lt;/h2&gt;
&lt;p&gt;新一代的攻击者常常向企业和组织发起针对性的网络攻击，这种针对性强的攻击，一般经过了精心的策划，攻击方法、途径复杂，后果严重。在面对这种攻击时，攻防存在着严重的不对等，为了尽可能消除这种不对等，威胁情报 (Threat Intelligence) 应运而生。&lt;/p&gt;
&lt;h2 id=&#34;定义&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#定义&#34;&gt;#&lt;/a&gt; 定义&lt;/h2&gt;
&lt;p&gt;威胁情报 (Threat Intelligence)，也被称作安全情报 (Security Intelligence)、安全威胁情报 (Security Threat Intelligence)。&lt;/p&gt;
&lt;p&gt;关于威胁情报的定义有很多，一般是指从安全数据中提炼的，与网络空间威胁相关的信息，包括威胁来源、攻击意图、攻击手法、攻击目标信息，以及可用于解决威胁或应对危害的知识。广义的威胁情报也包括情报的加工生产、分析应用及协同共享机制。相关的概念有资产、威胁、脆弱性等，具体定义如下。&lt;/p&gt;
&lt;p&gt;一般威胁情报需要包含威胁源、攻击目的、攻击对象、攻击手法、漏洞、攻击特征、防御措施等。威胁情报在事前可以起到预警的作用，在威胁发生时可以协助进行检测和响应，在事后可以用于分析和溯源。&lt;/p&gt;
&lt;p&gt;常见的网络威胁情报服务有黑客或欺诈团体分析、社会媒体和开源信息监控、定向漏洞研究、定制的人工分析、实时事件通知、凭据恢复、事故调查、伪造域名检测等。&lt;/p&gt;
&lt;p&gt;在威胁情报方面，比较有代表性的厂商有 BAE Systems Applied Intelligence、Booz Allen、RSA、IBM、McAfee、赛门铁克、FireEye 等。&lt;/p&gt;
&lt;h1 id=&#34;相关概念&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#相关概念&#34;&gt;#&lt;/a&gt; 相关概念&lt;/h1&gt;
&lt;h2 id=&#34;资产asset&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#资产asset&#34;&gt;#&lt;/a&gt; 资产 (Asset)&lt;/h2&gt;
&lt;p&gt;对组织具有价值的信息或资源，属于内部情报，通过资产测绘等方式发现。&lt;/p&gt;
&lt;h2 id=&#34;威胁threat&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#威胁threat&#34;&gt;#&lt;/a&gt; 威胁 (Threat)&lt;/h2&gt;
&lt;p&gt;能够通过未授权访问、毁坏、揭露、数据修改和或拒绝服务对系统造成潜在危害的起因，威胁可由威胁的主体 (威胁源)、能力、资源、动机、途径、可能性和后果等多种属性来刻画&lt;/p&gt;
&lt;h2 id=&#34;脆弱性-漏洞vulnerability&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#脆弱性-漏洞vulnerability&#34;&gt;#&lt;/a&gt; 脆弱性 / 漏洞 (Vulnerability)&lt;/h2&gt;
&lt;p&gt;可能被威胁如攻击者利用的资产或若干资产薄弱环节。&lt;/p&gt;
&lt;p&gt;漏洞存在多个周期，最开始由安全研究员或者攻击者发现，而后出现在社区公告 / 官方邮件 / 博客中。随着信息的不断地传递，漏洞情报出现在开源社区等地方，并带有 PoC 和漏洞细节分析。再之后出现自动化工具开始大规模传播，部分漏洞会造成社会影响并被媒体报道，最后漏洞基本修复。&lt;/p&gt;
&lt;h2 id=&#34;风险risk&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#风险risk&#34;&gt;#&lt;/a&gt; 风险 (Risk)&lt;/h2&gt;
&lt;p&gt;威胁利用资产或一组资产的脆弱性对组织机构造成伤害的潜在可能。&lt;/p&gt;
&lt;h2 id=&#34;安全事件event&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#安全事件event&#34;&gt;#&lt;/a&gt; 安全事件 (Event)&lt;/h2&gt;
&lt;p&gt;威胁利用资产的脆弱性后实际产生危害的情景。&lt;/p&gt;
&lt;h1 id=&#34;情报来源&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#情报来源&#34;&gt;#&lt;/a&gt; 情报来源&lt;/h1&gt;
&lt;p&gt;为了实现情报的同步和交换，各组织都制定了相应的标准和规范。主要有国标，美国联邦政府标准等。&lt;/p&gt;
&lt;p&gt;除了国家外，企业也有各自的情报来源，例如厂商、CERT、开发者社区、安全媒体、漏洞作者或团队、公众号、个人博客、代码仓库等。&lt;/p&gt;
&lt;h1 id=&#34;威胁框架&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#威胁框架&#34;&gt;#&lt;/a&gt; 威胁框架&lt;/h1&gt;
&lt;p&gt;比较有影响力的威胁框架主要有洛克希德 - 马丁的杀伤链框架 (Cyber Kill Chain Framework)、MITRE 的 ATT&amp;amp;CK 框架 (Common Knowledge base of Adversary Tactics and Techniques)、ODNI 的 CCTF 框架 (Common Cyber Threat Framework，公共网空威胁框架)，以及 NSA 的 TCTF 框架 (Technical Cyber Threat Framework，技术性网空威胁框架)。&lt;/p&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;[Executive Perspectives on Cyber Threat Intelligence](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zY2FkYWhhY2tlci5jb20vbGlicmFyeS9Eb2N1bWVudHMvVGhyZWF0X0ludGVsbGlnZW5jZS9pU2lnaHQ=&#34;&gt;https://scadahacker.com/library/Documents/Threat_Intelligence/iSight&lt;/span&gt; Partners - Executive Perspectives on Cyber Threat Intelligence.pdf)&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZGFya3JlYWRpbmcuY29tL2FuYWx5dGljcy90aHJlYXQtaW50ZWxsaWdlbmNlL2N5YmVyLXRocmVhdHMtaW5mb3JtYXRpb24tdnMtaW50ZWxsaWdlbmNlL2EvZC1pZC8xMzE2ODUx&#34;&gt;Cyber Threats: Information vs. Intelligence&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vY29sdW1uLzEzNjc2My5odG1s&#34;&gt;威胁情报简介及市场浅析&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE/</guid>
            <title>安全建设</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%AE%89%E5%85%A8%E5%BB%BA%E8%AE%BE/</link>
            <category>运营</category>
            <pubDate>Mon, 05 Dec 2022 16:00:21 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;h1 id=&#34;安全运营&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#安全运营&#34;&gt;#&lt;/a&gt; 安全运营&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8zOTQ2NzIwMQ==&#34;&gt;我理解的安全运营 by 职业欠钱&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC84NDU5MTA5NQ==&#34;&gt;再谈安全运营 by 职业欠钱&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJek1UQXpOelV4TVE9PSZhbXA7bWlkPTI2NTI4OTM2MTYmYW1wO2lkeD0xJmFtcDtzbj02NzM4YTRlMzMwNTBlZDA4NGQxNTM1MTk2YWVjNjA2MQ==&#34;&gt;我们谈安全运营时在谈什么 by 聂君&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly8zNmtyLmNvbS9wLzE3MjEyMzY2MzU2NDk=&#34;&gt;金融行业企业安全运营之路 by 聂君&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJMk1qUTFOVEE0TUE9PSZhbXA7bWlkPTIyNDc0ODUwNjImYW1wO2lkeD0xJmFtcDtzbj05NGM5ZmE0MGVkZWY2ZGUwZWE0NmM0NTM0MDVlMzY4Nw==&#34;&gt;秦波：大型互联网应用安全 SDL 体系建设实践&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJMk1qUTFOVEE0TUE9PSZhbXA7bWlkPTIyNDc0ODU0MDUmYW1wO2lkeD0xJmFtcDtzbj1iZGE5MjgzMzI5ZjZkYjE1ZDY5ZDRjZGYzN2M2MDlkMg==&#34;&gt;谭晓生：论 CISO 的个人修养&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvZXMvMjAwMDI0Lmh0bWw=&#34;&gt;赵彦的 CISO 闪电战 两年甲方安全修炼之路&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpJMk1qUTFOVEE0TUE9PSZhbXA7bWlkPTIyNDc0ODQ3MzUmYW1wO2lkeD0xJmFtcDtzbj0wMmUwNmRkODRlZTAzMjJkZDJmOWZlNzYxYjI0NDAxMw==&#34;&gt;胡珀谈安全运营 by lake2&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvcmM2WDVTbHNvUnA2czdSQ0VaNjdtQQ==&#34;&gt;小步快跑，快速迭代：安全运营的器术法道&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;资产管理&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#资产管理&#34;&gt;#&lt;/a&gt; 资产管理&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/X19iaXo9TXpBNU1EWTNNek15T1E9PSZhbXA7bWlkPTI2NDk0Mzk3NTEmYW1wO2lkeD0xJmFtcDtzbj0xOGFjNDlhZmY3NWVlNGIxNDMzZTQyOWRmNTZiYTQ0Yg==&#34;&gt;资产管理的难点&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/</guid>
            <title>安全开发</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%AE%89%E5%85%A8%E5%BC%80%E5%8F%91/</link>
            <category>开发过程</category>
            <pubDate>Mon, 05 Dec 2022 15:58:41 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;简介&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#简介&#34;&gt;#&lt;/a&gt; 简介&lt;/h1&gt;
&lt;p&gt;安全开发生命周期（Security Development Lifecycle，SDL）是微软提出的从安全的角度来指导软件开发过程的管理模式。用于帮助开发人员构建更安全的软件、解决安全合规要求，并降低开发成本。&lt;/p&gt;
&lt;h1 id=&#34;步骤&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#步骤&#34;&gt;#&lt;/a&gt; 步骤&lt;/h1&gt;
&lt;h2 id=&#34;阶段1培训&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#阶段1培训&#34;&gt;#&lt;/a&gt; 阶段 1：培训&lt;/h2&gt;
&lt;p&gt;开发团队的所有成员都必须接受适当的安全培训，了解相关的安全知识。培训对象包括开发人员、测试人员、项目经理、产品经理等。&lt;/p&gt;
&lt;h2 id=&#34;阶段2确定安全需求&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#阶段2确定安全需求&#34;&gt;#&lt;/a&gt; 阶段 2：确定安全需求&lt;/h2&gt;
&lt;p&gt;在项目确立之前，需要提前确定安全方面的需求，确定项目的计划时间，尽可能避免安全引起的需求变更。&lt;/p&gt;
&lt;h2 id=&#34;阶段3设计&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#阶段3设计&#34;&gt;#&lt;/a&gt; 阶段 3：设计&lt;/h2&gt;
&lt;p&gt;在设计阶段确定安全的最低可接受级别。考虑项目涉及到哪些攻击面、是否能减小攻击面。&lt;/p&gt;
&lt;p&gt;对项目进行威胁建模，明确可能来自的攻击有哪些方面，并考虑项目哪些部分需要进行渗透测试。&lt;/p&gt;
&lt;h2 id=&#34;阶段4实现&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#阶段4实现&#34;&gt;#&lt;/a&gt; 阶段 4：实现&lt;/h2&gt;
&lt;p&gt;实现阶段主要涉及到工具、不安全的函数、静态分析等方面。&lt;/p&gt;
&lt;p&gt;工具方面主要考虑到开发团队使用的编辑器、链接器等相关工具可能会涉及一些安全相关的问题，因此在使用工具的版本上，需要提前与安全团队进行沟通。&lt;/p&gt;
&lt;p&gt;函数方面主要考虑到许多常用函数可能存在安全隐患，应当禁用不安全的函数和 API，使用安全团队推荐的函数。&lt;/p&gt;
&lt;p&gt;代码静态分析可以由相关工具辅助完成，其结果与人工分析相结合。&lt;/p&gt;
&lt;h2 id=&#34;阶段5验证&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#阶段5验证&#34;&gt;#&lt;/a&gt; 阶段 5：验证&lt;/h2&gt;
&lt;p&gt;验证阶段涉及到动态程序分析和攻击面再审计。动态分析对静态分析进行补充，常用的方式是模糊测试、渗透测试。模糊测试通过向应用程序引入特定格式或随机数据查找程序可能的问题。&lt;/p&gt;
&lt;p&gt;考虑到项目经常会因为需求变更等情况使得最终产品和初期目标不一致，因此需要在项目后期再次对威胁模型和攻击面进行分析和考虑，如果出现问题则进行纠正。&lt;/p&gt;
&lt;h2 id=&#34;阶段6发布&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#阶段6发布&#34;&gt;#&lt;/a&gt; 阶段 6：发布&lt;/h2&gt;
&lt;p&gt;在程序发布后，需要对安全事件进行响应，需要预设好遇到安全问题时的处理方式。&lt;/p&gt;
&lt;p&gt;另外如果产品中包含第三方的代码，也需要考虑如何响应因为第三方依赖引入的问题。&lt;/p&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubWljcm9zb2Z0LmNvbS9lbi11cy9zZWN1cml0eWVuZ2luZWVyaW5nL3NkbC9wcmFjdGljZXM=&#34;&gt;SDL Practices&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubWljcm9zb2Z0LmNvbS9lbi11cy9zZWN1cml0eWVuZ2luZWVyaW5nL3NkbC90aHJlYXRtb2RlbGluZw==&#34;&gt;Threat Modeling&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E7%BA%A2%E8%93%9D%E5%AF%B9%E6%8A%97/</guid>
            <title>红蓝对抗</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E7%BA%A2%E8%93%9D%E5%AF%B9%E6%8A%97/</link>
            <category>网络攻防</category>
            <pubDate>Tue, 29 Nov 2022 17:12:49 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;概念&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#概念&#34;&gt;#&lt;/a&gt; 概念&lt;/h1&gt;
&lt;p&gt;红蓝对抗的概念最早来源于 20 世纪 60 年代的美国演习，演习是专指军队进行大规模的实兵演习，演习中通常分为红军、蓝军，其中蓝军通常是指在部队模拟对抗演习专门扮演假想敌的部队，与红军 (代表我方正面部队) 进行针对性的训练，这种方式也被称作 Red Teaming。&lt;/p&gt;
&lt;p&gt;网络安全红蓝对抗的概念就源自于此。红军作为企业防守方，通过安全加固、攻击监测、应急处置等手段来保障企业安全。而蓝军作为攻击方，以发现安全漏洞，获取业务权限或数据为目标，利用各种攻击手段，试图绕过红军层层防护，达成既定目标。可能会造成混淆的是，在欧美一般采用红队代表攻击方，蓝队代表防守方，颜色代表正好相反。&lt;/p&gt;
&lt;h1 id=&#34;网络攻防演习&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#网络攻防演习&#34;&gt;#&lt;/a&gt; 网络攻防演习&lt;/h1&gt;
&lt;p&gt;比较有影响力的演习有 “锁盾”(Locked Shields)、“网络风暴” 等。其中 “锁盾” 由北约卓越网络防御合作中心 (CCDCOE，Cooperative Cyber Defence Centre of Excellence) 每年举办一次。“网络风暴” 由美国国土安全部 (DHS) 主导，2006 年开始，每两年举行一次。&lt;/p&gt;
&lt;p&gt;和 APT 攻击相比，攻防演习相对时长较短，只有 1~4 周，有个防守目标。而 APT 攻击目标唯一，时长可达数月至数年，更有隐蔽性。&lt;/p&gt;
&lt;h1 id=&#34;侧重&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#侧重&#34;&gt;#&lt;/a&gt; 侧重&lt;/h1&gt;
&lt;p&gt;企业网络蓝军工作内容主要包括渗透测试和红蓝对抗，这两种方式所使用的技术基本相同，但是侧重点不同。&lt;/p&gt;
&lt;p&gt;渗透测试侧重用较短的时间去挖掘更多的安全漏洞，一般不太关注攻击行为是否被监测发现，目的是帮助业务系统暴露和收敛更多风险。&lt;/p&gt;
&lt;p&gt;红蓝对抗更接近真实场景，偏向于实战，面对的场景复杂、技术繁多。侧重绕过防御体系，毫无声息达成获取业务权限或数据的目标。不求发现全部风险点，因为攻击动作越多被发现的概率越大，一旦被发现，红军就会把蓝军踢出战场。红蓝对抗的目的是检验在真实攻击中纵深防御能力、告警运营质量、应急处置能力。&lt;/p&gt;
&lt;h1 id=&#34;目标&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#目标&#34;&gt;#&lt;/a&gt; 目标&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;评估现有防御能力的有效性、识别防御体系的弱点并提出具体的应对方案&lt;/li&gt;
&lt;li&gt;利用真实有效的模拟攻击来评估因为安全问题所造成的潜在的业务影响，为安全管理提供有效的数据来量化安全投入的 ROI&lt;/li&gt;
&lt;li&gt;提高公司安全成熟度及其检测和响应攻击的能力&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;前期准备&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#前期准备&#34;&gt;#&lt;/a&gt; 前期准备&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;组织结构图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;全网拓扑图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;各系统逻辑结构图&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;各系统之间的调用关系&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据流关系&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;资产梳理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;核心资产清单&lt;/li&gt;
&lt;li&gt;业务系统资产&lt;/li&gt;
&lt;li&gt;设备资产&lt;/li&gt;
&lt;li&gt;外包 / 第三方服务资产&lt;/li&gt;
&lt;li&gt;历史遗留资产&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;业务资产信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;业务系统名称&lt;/li&gt;
&lt;li&gt;业务系统类型&lt;/li&gt;
&lt;li&gt;服务器类型&lt;/li&gt;
&lt;li&gt;域名 / IP 地址&lt;/li&gt;
&lt;li&gt;服务端口&lt;/li&gt;
&lt;li&gt;版本&lt;/li&gt;
&lt;li&gt;系统部署位置&lt;/li&gt;
&lt;li&gt;开发框架&lt;/li&gt;
&lt;li&gt;中间件&lt;/li&gt;
&lt;li&gt;数据库&lt;/li&gt;
&lt;li&gt;责任人&lt;/li&gt;
&lt;li&gt;维护人员&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;设备资产信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设备名称&lt;/li&gt;
&lt;li&gt;设备版本号&lt;/li&gt;
&lt;li&gt;固件版本号&lt;/li&gt;
&lt;li&gt;IP 地址&lt;/li&gt;
&lt;li&gt;部署位置&lt;/li&gt;
&lt;li&gt;责任人&lt;/li&gt;
&lt;li&gt;维护人员&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;外包 / 第三方服务资产信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;厂商联系方式&lt;/li&gt;
&lt;li&gt;系统名称&lt;/li&gt;
&lt;li&gt;系统类型&lt;/li&gt;
&lt;li&gt;IP/URL 地址&lt;/li&gt;
&lt;li&gt;部署位置&lt;/li&gt;
&lt;li&gt;责任人&lt;/li&gt;
&lt;li&gt;维护人员&lt;/li&gt;
&lt;li&gt;厂商联系方式&lt;/li&gt;
&lt;li&gt;第三方值班人员&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;风险梳理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础设施风险&lt;/li&gt;
&lt;li&gt;帐号权限梳理&lt;/li&gt;
&lt;li&gt;互联网风险排查&lt;/li&gt;
&lt;li&gt;收敛攻击面&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;应急响应计划&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;业务连续性计划&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;灾难恢复计划&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;行动流程&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#行动流程&#34;&gt;#&lt;/a&gt; 行动流程&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;攻击准备&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;明确授权范围、测试目标、限制条件等&lt;/li&gt;
&lt;li&gt;报备与授权流程&lt;/li&gt;
&lt;li&gt;行动成本与预算&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;攻击执行&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;备案的时间区间内&lt;/li&gt;
&lt;li&gt;备案的目标范围内&lt;/li&gt;
&lt;li&gt;备案的攻击 IP 与网络环境&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;攻击完成&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;恢复所有修改&lt;/li&gt;
&lt;li&gt;移除所有持久化控制&lt;/li&gt;
&lt;li&gt;提交攻击报告与改进建议&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;注意事项&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#注意事项&#34;&gt;#&lt;/a&gt; 注意事项&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;测试前进行报备&lt;/li&gt;
&lt;li&gt;有可能会影响到业务的操作时候提前沟通&lt;/li&gt;
&lt;li&gt;漏洞和业务沟通确认后再发工单修复&lt;/li&gt;
&lt;li&gt;漏洞闭环&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvOGlKczJPTjY2TlkxSmRidDdjLUJUQQ==&#34;&gt;以攻促防 企业蓝军建设思考&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2F2ZmlzaGVyLndpbi9hcmNoaXZlcy8xMTc1&#34;&gt;云上攻防：Red Teaming for Cloud&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cuZnJlZWJ1Zi5jb20vYXJ0aWNsZXMvbmVvcG9pbnRzLzI1MjIyOS5odG1s&#34;&gt;网络攻防演练之企业蓝队建设指南&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%9B%A2%E9%98%9F%E5%BB%BA%E8%AE%BE/</guid>
            <title>团队建设</title>
            <link>https://mobius-0.github.io/security/WebNote/Defense%20techniques/%E5%9B%A2%E9%98%9F%E5%BB%BA%E8%AE%BE/</link>
            <category>分工</category>
            <category>职能</category>
            <pubDate>Tue, 29 Nov 2022 17:10:49 +0800</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;人员分工&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#人员分工&#34;&gt;#&lt;/a&gt; 人员分工&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;部门负责人
&lt;ul&gt;
&lt;li&gt;负责组织整体的信息安全规划&lt;/li&gt;
&lt;li&gt;负责向高层沟通申请资源&lt;/li&gt;
&lt;li&gt;负责与组织其他部门的协调沟通&lt;/li&gt;
&lt;li&gt;共同推进信息安全工作&lt;/li&gt;
&lt;li&gt;负责信息安全团队建设&lt;/li&gt;
&lt;li&gt;负责安全事件应急工作处置&lt;/li&gt;
&lt;li&gt;负责推动组织安全规划的落实&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;合规管理员
&lt;ul&gt;
&lt;li&gt;负责安全相关管理制度、管理流程的制定，监督实施情况，修改和改进相关的制度和流程&lt;/li&gt;
&lt;li&gt;负责合规性迎检准备工作，包括联络、迎检工作推动，迎检结果汇报等所有相关工作&lt;/li&gt;
&lt;li&gt;负责与外部安全相关单位联络&lt;/li&gt;
&lt;li&gt;负责安全意识培训、宣传和推广&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安全技术负责人
&lt;ul&gt;
&lt;li&gt;业务安全防护整体技术规划和计划&lt;/li&gt;
&lt;li&gt;了解组织安全技术缺陷，并能找到方法进行防御&lt;/li&gt;
&lt;li&gt;安全设备运维&lt;/li&gt;
&lt;li&gt;服务器与网络基础设备的安全加固推进工作&lt;/li&gt;
&lt;li&gt;安全事件排查与分析，配合定期编写安全分析报告&lt;/li&gt;
&lt;li&gt;关注注业内安全事件， 跟踪最新漏洞信息，进行业务产品的安全检查&lt;/li&gt;
&lt;li&gt;负责漏洞修复工作推进，跟踪解决情况，问题收集&lt;/li&gt;
&lt;li&gt;了解最新安全技术趋势&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;渗透 / 代码审计人员
&lt;ul&gt;
&lt;li&gt;对组织业务网站、业务系统进行安全评估测试&lt;/li&gt;
&lt;li&gt;对漏洞结果提供解决方案和修复建议&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安全设备运维人员
&lt;ul&gt;
&lt;li&gt;负责设备配置和策略的修改&lt;/li&gt;
&lt;li&gt;负责协助其他部门的变更导致的安全策略修改的实现&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;安全开发
&lt;ul&gt;
&lt;li&gt;根据组织安全的需要开发安全辅助工具或平台&lt;/li&gt;
&lt;li&gt;参与安全系统的需求分析、设计、编码等开发工作&lt;/li&gt;
&lt;li&gt;维护公司现有的安全程序与系统&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;参考链接&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#参考链接&#34;&gt;#&lt;/a&gt; 参考链接&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvQnFPRlAyMTdraU41NUlXYl9vUVAtdw==&#34;&gt;初入甲方的企业安全建设规划&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3MvUmxCVEg5LXhyWTdOZDFaSkszS2pEUQ==&#34;&gt;企业安全项目架构实践分享&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly94ei5hbGl5dW4uY29tL3QvMTk2NQ==&#34;&gt;企业信息安全团队建设&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
 ]]></description>
        </item>
    </channel>
</rss>
